<header class="floating">
    <button id="menu-btn" class="open-nav" style="padding-bottom: 4px;">â˜°</button>
</header>

<style>
header.floating {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    margin: 1.0rem;
    z-index: 4;
}

header.floating button.open-nav {
    color: #fff;
    font-size: 2rem;
    padding: 0.1rem 0.8rem;
    transition: background 1.25s ease, color 1.25s ease, box-shadow 1.25s ease;
    -webkit-tap-highlight-color: transparent;
    border-radius: 0.5rem;
    outline: 1px solid #000;
    border: 1px solid #7f7f7f;
    box-shadow: 0 0 1px 0px #000;
    background: linear-gradient(to bottom, rgb(69 72 77 / 85%) 0%, rgb(0 0 0 / 89%) 100%);
}

header.floating button.open-nav:active,
header.floating button.open-nav.tap {
    background: #fff;
    color: #000;
    box-shadow: 0 0 10px 2px #fff;
}
</style>


<script>
(() => {
  const btn = document.getElementById('menu-btn');
  const nav = document.querySelector('nav.site-full-width');
  let scrollY = 0;

  function openNav() {
    scrollY = window.scrollY || document.documentElement.scrollTop;
    nav.classList.add('open');
    document.documentElement.classList.add('nav-open');
    document.body.classList.add('scroll-lock');
    document.body.style.top = `-${scrollY}px`;
  }

  function closeNav() {
    nav.classList.remove('open');
    document.documentElement.classList.remove('nav-open');
    document.body.classList.remove('scroll-lock');
    const y = Math.abs(parseInt(document.body.style.top || '0', 10)) || 0;
    document.body.style.top = '';
    window.scrollTo(0, y);
  }

  btn.addEventListener('click', () => {
    nav.classList.contains('open') ? closeNav() : openNav();
  });

  // Close on ESC
  window.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && nav.classList.contains('open')) closeNav();
  });

  // Optional: close when a nav link is clicked
  nav.addEventListener('click', (e) => {
    const a = e.target.closest('a');
    if (a) closeNav();
  });
})();
</script>
